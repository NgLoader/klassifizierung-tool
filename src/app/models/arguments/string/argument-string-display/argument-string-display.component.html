<form>
  @if (isInputEditable()) {
    <mat-form-field>
      <mat-label>{{ getName() }}</mat-label>
      <input type="text"
      placeholder="Wähle etwas aus"
      aria-label="Wähle etwas"
      matInput
      [formControl]="control"
      [matAutocomplete]="auto">

      @if (control.value) {
        <button matSuffix mat-icon-button aria-label="Clear" (click)="control.setValue('')">
          <mat-icon>clear</mat-icon>
        </button>
      }

      @if (isEditMode()) {
        <button matSuffix mat-icon-button aria-label="Edit">
          <mat-icon>edit</mat-icon>
        </button>
      }

      <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
        @for (option of suggestionFiltered | async; track $index) {
          <mat-option [value]="option">{{ option }}</mat-option>
        }
      </mat-autocomplete>
    </mat-form-field>
  }
  @else {
    <mat-form-field>
      <mat-label>{{ getName() }}</mat-label>
      <mat-select [formControl]="control">
        @for (option of suggestionFiltered | async; track $index) {
          <mat-option [value]="option">{{ option }}</mat-option>
        }
      </mat-select>

      @if (control.value) {
        <button matSuffix mat-icon-button aria-label="Clear" (click)="control.setValue('')">
          <mat-icon>clear</mat-icon>
        </button>
      }

      <button matSuffix mat-icon-button aria-label="Edit">
        <mat-icon>edit</mat-icon>
      </button>
    </mat-form-field>
  }
</form>